<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lexian.manager.order.dao.OrderItemDao" >
  
	
	
	<resultMap type="OrderItem" id="OrderItemWithCommodityMap">
		<id column="id" property="id" jdbcType="INTEGER"></id>
		<result column="amount" property="amount" jdbcType="INTEGER"/>
		<result column="listprice" property="listPrice" jdbcType="DOUBLE"/>
		<result column="totalprice" property="totalPrice" jdbcType="DOUBLE"/>
		
		<association property="commodity" javaType="Commodity">
			<result column="commodity_no" property="commodityNo" jdbcType="VARCHAR"/>
			<result column="name" property="name" jdbcType="VARCHAR"/>
			<result column="pictureurl" property="pictureUrl" jdbcType="VARCHAR"/>
		</association>
		
	</resultMap>
	
	
	<select id="getOrderItemsWithCommodity" resultMap="OrderItemWithCommodityMap" parameterType="java.lang.Integer">
		select orderitem.id,amount,listprice,totalprice,commodity.commodity_no,name,pictureurl
		from orderitem,commodity
		where orderitem.order_id=#{id,jdbcType=INTEGER} and orderitem.commodity_no=commodity.commodity_no
	</select>
	
	
	
	
  
</mapper>